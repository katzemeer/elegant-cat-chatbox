<div class="elegant-cat-chatbox-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>üê± Elegant Cat Chatbox</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">

            <div class="ecc-setting-row">
                <input id="ecc_enabled" type="checkbox" />
                <label for="ecc_enabled">Enable cat decorations</label>
            </div>

            <hr class="ecc-divider"/>

            <label class="ecc-label">Chutes API Key</label>
            <input id="ecc_api_key" type="password"
                   placeholder="Paste your Chutes API key here"
                   class="ecc-input"/>
            <small class="ecc-hint">Saved locally in SillyTavern only.</small>

            <hr class="ecc-divider"/>

            <label class="ecc-label">Chute Endpoint URL</label>
            <input id="ecc_chute_url" type="text"
                   placeholder="e.g. https://chutes-z-image-turbo.chutes.ai/generate"
                   class="ecc-input"/>
            <small class="ecc-hint">Copy the URL from the curl example on any Chutes image model page.</small>

            <hr class="ecc-divider"/>

            <!-- Background removal mode toggle -->
            <label class="ecc-label">üñºÔ∏è Background Removal Method</label>

            <div class="ecc-setting-row">
                <input type="radio" name="ecc_bg_mode" id="ecc_bg_black" value="black"/>
                <label for="ecc_bg_black">‚ö´ Black bg + screen blend <small>(no extra API needed)</small></label>
            </div>
            <div class="ecc-setting-row">
                <input type="radio" name="ecc_bg_mode" id="ecc_bg_removebg" value="removebg"/>
                <label for="ecc_bg_removebg">‚úÇÔ∏è remove.bg API <small>(real transparency, any background)</small></label>
            </div>

            <small id="ecc_bg_hint" class="ecc-hint ecc-hint-mode"></small>

            <!-- remove.bg key ‚Äî shown only when that mode is selected -->
            <div id="ecc_removebg_row" style="display:none; margin-top:6px;">
                <label class="ecc-label">remove.bg API Key</label>
                <input id="ecc_removebg_key" type="password"
                       placeholder="Paste your remove.bg API key here"
                       class="ecc-input"/>
                <small class="ecc-hint">
                    Free tier at <b>remove.bg</b> gives 50 removals/month ‚Äî more than enough!
                    Sign up at remove.bg ‚Üí API ‚Üí Copy key.
                </small>
            </div>

            <hr class="ecc-divider"/>

            <label class="ecc-label">‚ú® Cat Theme / Prompt Style</label>
            <select id="ecc_prompt_select" class="ecc-input ecc-select">
                <!-- Populated by JS -->
            </select>
            <small class="ecc-hint">Pick a theme or let the AI surprise you with üé≤ Random!</small>

            <div class="ecc-setting-row" style="margin-top:10px;">
                <input id="ecc_generate_btn" class="menu_button" type="submit"
                       value="‚ú® Generate Both Cats"/>
            </div>
            <small class="ecc-hint">
                Generates two cats ‚Äî appears at the sides of your chatbox, not over the text!
                Takes ~40‚Äì60 seconds. Using remove.bg adds ~10 more seconds.
            </small>

            <div id="ecc_status" class="ecc-status" style="display:none;"></div>

            <div id="ecc_preview" class="ecc-preview" style="display:none;">
                <hr class="ecc-divider"/>
                <label class="ecc-label">Preview</label>
                <div class="ecc-preview-row">
                    <div style="text-align:center;">
                        <small>Left cat</small>
                        <img id="ecc_preview_left" class="ecc-preview-img" src="" alt="Left cat"/>
                    </div>
                    <div style="text-align:center;">
                        <small>Right cat (mirrored)</small>
                        <img id="ecc_preview_right" class="ecc-preview-img ecc-mirror" src="" alt="Right cat"/>
                    </div>
                </div>
                <div class="ecc-setting-row" style="margin-top:6px;">
                    <input id="ecc_apply_btn" class="menu_button" type="submit"
                           value="‚úÖ Apply to Chatbox"/>
                </div>
            </div>

        </div>
    </div>
</div>
